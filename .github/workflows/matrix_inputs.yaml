name: Test Matrix Input Dependencies
run-name: test-matrix-inputs-${{ github.sha }}

on:
  workflow_dispatch:
    inputs:
      event_type:
        required: false
        description: 'A comma-separated list of event types to test. Each element must be enclosed in double quotes. Example: "<event_type1>","<event_type2>"'
        default: '"argmax-sdk-swift-diarization","argmax-sdk-swift-realtime-asr","argmax-sdk-swift-prerecorded-asr"'

jobs:
  echo-event-type:
    strategy:
      fail-fast: false
      matrix:
        event_type: ${{ fromJSON(format('[{0}]', inputs.event_type )) }}
    runs-on: ubuntu-latest
    steps:
      - name: Echo event type
        run: |
          echo "Event type: ${{ matrix.event_type }}"
